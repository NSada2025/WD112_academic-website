/* ==========================================================================
   CUSTOM STYLES
   ========================================================================== */

/* CSS Variables for consistent design */
:root {
  /* Colors */
  --primary-color: #0066cc;
  --primary-color-light: #3385d6;
  --primary-color-dark: #0052a3;
  
  /* Text colors */
  --text-color-primary: #333333;
  --text-color-secondary: #666666;
  --text-color-light: #999999;
  
  /* Background colors */
  --bg-color-primary: #ffffff;
  --bg-color-secondary: #f5f5f5;
  --bg-color-accent: #fafafa;
  
  /* Border colors */
  --border-color-primary: #e0e0e0;
  --border-color-light: #f0f0f0;
  
  /* Spacing (8px base) */
  --space-xs: 0.5rem;   /* 8px */
  --space-sm: 1rem;     /* 16px */
  --space-md: 1.5rem;   /* 24px */
  --space-lg: 2rem;     /* 32px */
  --space-xl: 3rem;     /* 48px */
  
  /* Font sizes */
  --font-size-sm: 0.875rem;  /* 14px */
  --font-size-base: 1rem;    /* 16px */
  --font-size-lg: 1.125rem;  /* 18px */
  --font-size-xl: 1.25rem;   /* 20px */
  --font-size-2xl: 1.5rem;   /* 24px */
  --font-size-3xl: 1.875rem; /* 30px */
  
  /* Line heights */
  --line-height-tight: 1.3;
  --line-height-base: 1.6;
  --line-height-relaxed: 1.8;
  
  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-base: 300ms ease;
  
  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
}

/* Author profile image size adjustment */
.author__avatar {
  display: table-cell;
  vertical-align: top;
  width: 36px;
  height: 36px;

  @include breakpoint($large) {
    display: block;
    width: auto;
    height: auto;
  }

  img {
    max-width: 150px;
    border-radius: 50%;

    @include breakpoint($large) {
      padding: 5px;
      border: 1px solid var(--global-border-color);
    }
  }
}

/* Sidebar author profile adjustments */
.sidebar .author__avatar img {
  max-width: 200px;
  width: 100%;
  height: auto;
}

/* Navigation bar improvements */
.masthead {
  background: #fff;
  border-bottom: 1px solid var(--global-border-color);
  
  &__inner-wrap {
    @include clearfix;
    margin-left: auto;
    margin-right: auto;
    padding: 1em;
    max-width: 100%;
    display: flex;
    justify-content: space-between;
    font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", Arial, sans-serif;
  }
}

/* Improve navigation visibility */
.greedy-nav {
  background-color: var(--bg-color-primary);
  
  a {
    color: var(--text-color-primary);
    font-weight: 500;
    font-size: var(--font-size-base);
    padding: var(--space-sm) var(--space-md);
    transition: all var(--transition-base);
    position: relative;
    
    &:hover {
      color: var(--primary-color);
      text-decoration: none;
    }
  }
  
  .visible-links {
    a {
      &:after {
        content: "";
        position: absolute;
        left: var(--space-md);
        right: var(--space-md);
        bottom: 0;
        height: 2px;
        background: var(--primary-color);
        transform: scaleX(0);
        transition: transform var(--transition-base);
      }
      
      &:hover:after {
        transform: scaleX(1);
      }
    }
  }
}

/* Main content area adjustments */
#main {
  @include clearfix;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1em;
  padding-right: 1em;
  animation: intro 0.3s both;
  animation-delay: 0.15s;

  @include breakpoint($large) {
    max-width: 100%;
    padding-left: 2em;
    padding-right: 2em;
  }
}

/* Page content width optimization */
.page {
  @include breakpoint($large) {
    float: right;
    width: calc(100% - 200px);
    padding-right: 200px;
  }

  @include breakpoint($x-large) {
    width: calc(100% - 300px);
    padding-right: 300px;
  }
}

/* Typography improvements */
body {
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--text-color-primary);
}

/* Improve readability */
.page__content {
  /* Heading styles */
  h1, h2, h3, h4, h5, h6 {
    margin-top: var(--space-lg);
    margin-bottom: var(--space-md);
    line-height: var(--line-height-tight);
    color: var(--text-color-primary);
  }
  
  h1 {
    font-size: var(--font-size-3xl);
  }
  
  h2 {
    font-size: var(--font-size-2xl);
    padding-bottom: var(--space-xs);
    border-bottom: 1px solid var(--border-color-primary);
  }
  
  h3 {
    font-size: var(--font-size-xl);
  }
  
  /* Paragraph styles */
  p {
    font-size: var(--font-size-base);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-md);
  }
  
  /* List styles */
  ul, ol {
    margin-bottom: var(--space-md);
    
    li {
      margin-bottom: var(--space-xs);
    }
  }
  
  /* Link styles */
  a {
    color: var(--primary-color);
    transition: color var(--transition-fast);
    
    &:hover {
      color: var(--primary-color-dark);
    }
  }
}

/* Card-style components for better visual hierarchy */
.archive__item {
  background: var(--bg-color-primary);
  border: 1px solid var(--border-color-light);
  border-radius: 8px;
  padding: var(--space-md);
  margin-bottom: var(--space-md);
  transition: all var(--transition-base);
  
  &:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }
  
  .archive__item-title {
    font-size: var(--font-size-xl);
    margin-top: 0;
    margin-bottom: var(--space-sm);
    
    a {
      text-decoration: none;
      color: var(--text-color-primary);
      
      &:hover {
        color: var(--primary-color);
      }
    }
  }
  
  .archive__item-excerpt {
    color: var(--text-color-secondary);
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
  }
}

/* Publications and talks specific styling */
.publication-item,
.talk-item {
  .archive__item-teaser {
    margin-bottom: var(--space-sm);
  }
  
  .publication-authors,
  .talk-metadata {
    color: var(--text-color-secondary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-xs);
  }
  
  .publication-venue,
  .talk-venue {
    color: var(--text-color-light);
    font-style: italic;
    font-size: var(--font-size-sm);
  }
}

/* Utility classes */
.text-primary { color: var(--text-color-primary); }
.text-secondary { color: var(--text-color-secondary); }
.text-light { color: var(--text-color-light); }

.bg-primary { background-color: var(--bg-color-primary); }
.bg-secondary { background-color: var(--bg-color-secondary); }
.bg-accent { background-color: var(--bg-color-accent); }

.mt-sm { margin-top: var(--space-sm); }
.mt-md { margin-top: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }